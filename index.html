<!DOCTYPE html>
<html>
    <head>
        <meta property="og:title" content="CPU Simulator" />
        <meta property="og:type" content="website" />
        <meta property="og:description" content="Simulate and understand the fetch decode execute cycle" />

        <title>CPU simulator</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
        <link rel="stylesheet" href="style.css">

        <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="cpu.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>

    </head>
    <body>

        <div class="box">
            <h1><i class="fa fa-microchip"></i> CPU Simulator</h1>
        </div>

        <div id="options" class="box">
            <h2><i class="fa fa-cog"></i> Settings</h2>
            Show values as:
            <div class="btn-group" role="group" aria-label="Number base">
                <button type="button" class="btn btn_values btn-secondary" id="btn_values_binary"><i class="fa fa-barcode"></i> Binary</button>
                <button type="button" class="btn btn_values btn-secondary" id="btn_values_decimal"><i class="fa fa-calculator"></i> Decimal</button>
                <button type="button" class="btn btn_values btn-secondary" id="btn_values_hex"><i class="fa fa-hashtag"></i> Hex</button>
            </div>

            <div class="btn-group" role="group" aria-label="Reset">
                <button type="button" class="btn btn_values btn-secondary" id="btn_reset_ram"><i class="fa fa-undo"></i> Reset RAM</button>
                <button type="button" class="btn btn_values btn-secondary" id="btn_reset_cpu"><i class="fa fa-undo"></i> Reset CPU</button>
            </div>

            <button type="button" class="btn btn-secondary" id="btn_examples" data-toggle="modal" data-target="#modal_examples"><i class="fa fa-thumbs-up"></i> Examples</button>

            <button type="button" class="btn btn-secondary" id="btn_import_export" data-toggle="modal" data-target="#modal_export"><i class="fa fa-save"></i> Import / Export</button>

            <span class="form-group">
                <label for="run_speed">Run speed:
                    <select class="form-control" id="run_speed">
                        <option value="0">Not Limited</option>
                        <option value="10">Turbo (100 Hz)</option>
                        <option value="500">Fast (2 Hz)</option>
                        <option value="1000" selected>Normal (1 Hz)</option>
                        <option value="2000">Slow (0.5 Hz)</option>
                        <option value="5000">Slug (0.2 Hz)</option>
                    </select>
                </label>
            </span>

            <div id="run_buttons" class="btn-group" role="group" aria-label="Run">
                <button type="button" class="btn btn-secondary" id="btn_step"><i class="fa fa-step-forward"></i> Step</button>
                <button type="button" class="btn btn-secondary" id="btn_run"><i class="fa fa-play"></i> Run</button>
            </div>

            <button type="button" class="btn btn-secondary" id="btn_toggle_hint"><i class="fa fa-lightbulb-o"></i></button>
            <div id="hint"><span id="hint_text">Press the step button to see each stage of the fetch, decode execute cycle</span></div>
        </div>

        <div id="cpu" class="box">
        </div>


        <div id="modal_change_value" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="modal_change_value_title">Change value</h4>
                    </div>
                    <div class="modal-body">
                        <p>Change value from: <span id="change_value_from"></span> to <input type="text" class="form-control edit-text" id="change_value_to"></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="btn_change_value_ok" class="btn btn-default" data-dismiss="modal"><i class="fa fa-check"></i> OK</button>
                        <button type="button" class="btn" data-dismiss="modal"><i class="fa fa-close"></i> Cancel</button>
                    </div>
                </div>

            </div>
        </div>

        <div id="modal_export" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="modal_change_value_title">Copy and paste program hex code</h4>
                    </div>
                    <div class="modal-body">
                        <textarea id="export_hex" class="form-control" rows="5"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="btn_import" class="btn btn-default" data-dismiss="modal"><i class="fa fa-check"></i> Import</button>
                        <button type="button" id="btn_export" class="btn btn-default" data-dismiss="modal"><i class="fa fa-share"></i> Export</button>
                        <button type="button" class="btn" data-dismiss="modal"><i class="fa fa-close"></i> Cancel</button>
                    </div>
                </div>

            </div>
        </div>

        <div id="modal_examples" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="modal_change_value_title">Example projects</h4>
                    </div>
                    <div class="modal-body">
                        <ol>
                            <li><a href="?ram=913f911f920000000000000000000000">Add two numbers</a></li>
                            <li><a href="?ram=913f913e2f895f92005e920000000000">Find the biggest out of two numbers</a></li>
                            <li><a href="?ram=913091315021308b5f92015f1a3f6400">Division</a></li>
                            <li><a href="?ram=913091315f103f512e7c31645f920100">Multiplication</a></li>
                            <li><a href="?ram=5a1b39925b3a593b6000000100000000">Fibonacci Sequence</a></li>
                        </ol>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="btn_import" class="btn btn-default" data-dismiss="modal"><i class="fa fa-check"></i> Import</button>
                        <button type="button" class="btn" data-dismiss="modal"><i class="fa fa-close"></i> Cancel</button>
                    </div>
                </div>

            </div>
        </div>
    </body>
</html>
